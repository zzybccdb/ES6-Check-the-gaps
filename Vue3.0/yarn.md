# yarn
JS 包管理工具 — Yarn

一个新的 CLI 工具，拉取的 packages 依然来自 npm 仓库. 仓库本身不会变，所以获取或者发布模块的时候和原来一样.

## yarn 与 npm 差异

### yarn.lock 文件
npm 和 Yarn 都是通过 package.json 记录项目需要拉取的依赖模块.

为了防止拉取到不同的版本，Yarn 有一个锁定文件 (lock file) 记录了被确切安装上的模块的版本号. 每次只要新增了一个模块，Yarn 就会创建（或更新）yarn.lock 这个文件. 这么做就保证了，每一次拉取同一个项目依赖时，使用的都是一样的模块版本.

npm 可以执行 npm shrinkwrap 命令. 这个命令将会生成一个锁定文件，在执行 npm install 的时候，该锁定文件会先被读取，和 Yarn 读取 yarn.lock 文件一个道理


#### package 版本号详解

- ^ 插入符号: 会更新到当前minor version（也就是中间的那位数字）中最新的版本。放到我们的例子中就是：body-parser:~1.15.2，这个库会去匹配更新到1.15.x的最新版本，如果出了一个新的版本为1.16.0，则不会自动升级。

- ~ 波浪符号: 这个符号就显得非常的灵活了，他将会把当前库的版本更新到当前major version（也就是第一位数字）中最新的版本。放到我们的例子中就是：bluebird:^3.3.4，这个库会去匹配3.x.x中最新的版本，但是他不会自动更新到4.0.0。

#### package.lock 的作用
锁定安装时的包的版本号，并且需要上传到git，以保证其他人在npm install时大家的依赖能保证一致